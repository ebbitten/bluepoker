#!/usr/bin/env sh

# Simple pre-commit hook for blue-poker
# Only runs lint and typecheck to avoid Supabase dependency issues

echo "🔍 Running pre-commit checks..."

# Change to project root
cd "$(git rev-parse --show-toplevel)"

# Run lint (warnings are OK)
echo "📋 Running lint..."
pnpm lint || {
  echo "❌ Lint failed - please fix errors before committing"
  exit 1
}

# Run typecheck (must pass)
echo "🔍 Running typecheck..."
pnpm typecheck || {
  echo "❌ TypeScript errors found - please fix before committing"
  exit 1
}

echo "✅ Pre-commit checks passed!"