#!/usr/bin/env sh

# Simple pre-commit hook for blue-poker
# Only runs lint and typecheck to avoid Supabase dependency issues

echo "ğŸ” Running pre-commit checks..."

# Change to project root
cd "$(git rev-parse --show-toplevel)"

# Run lint (warnings are OK)
echo "ğŸ“‹ Running lint..."
pnpm lint || {
  echo "âŒ Lint failed - please fix errors before committing"
  exit 1
}

# Run typecheck (must pass)
echo "ğŸ” Running typecheck..."
pnpm typecheck || {
  echo "âŒ TypeScript errors found - please fix before committing"
  exit 1
}

echo "âœ… Pre-commit checks passed!"